\documentclass{article}
\usepackage[a4paper, total={6in, 8in}]{geometry}
\usepackage{changepage}
\usepackage{multirow}
\usepackage{tocloft}
\usepackage{tabularx}
\usepackage{graphicx}
\usepackage{array}
\usepackage{tabu}
\usepackage{longtable}
\usepackage{wrapfig}
\usepackage{verbatim}
\usepackage{xltabular}
\usepackage[table]{xcolor}

\usepackage{pgf-umlcd}
\usepackage{pgf-umlsd}
\usepackage{tikz}

\usepackage{hyperref}
\hypersetup{
    colorlinks=true,
    linkcolor=black,
    filecolor=magenta,
    urlcolor=cyan,
}

%creazione dei colori custom
\definecolor{tableGreen}{RGB}{25, 175, 45}
\definecolor{tableYellow}{RGB}{255, 220, 0}
\definecolor{tableBlue}{RGB}{0 ,20, 210}
\definecolor{tableCyan}{RGB}{0 ,160, 156}
\definecolor{tableRed}{RGB}{220 ,15, 5}

%macro per andare a capo nelle tabelle
\newcommand{\n}{
   \tabularnewline\hline
}

\tolerance=1
\hyphenpenalty=10000

%robe per tabelle
\renewcommand{\arraystretch}{2.4}%padding sopra sotto
\setlength\tabcolsep{6pt}%padding bordo lat


%macro per generare le tabelle
\newcommand{\monkeytable}[2]{
\begin{center}
\begin{tabularx}{\textwidth}
#2
\n %necessaria per chiudere la tabella
\end{tabularx}
\end{center}
\label{tab:monkeytable}
}

%inizio documento vero e proprio
\title{Codemonkey}
\begin{document}

\begin{figure}[!ht]
   \centering
   \includegraphics[width=0.5\linewidth]{images/icon}
   \begin{titlepage}
      \huge Codemonkey
   \end{titlepage}
   \label{fig:nome-etichetta}
\end{figure}

\renewcommand{\contentsname}{Sommario}


\pagebreak
\tableofcontents
\pagebreak
\input{abstract}
\pagebreak
\input{raccoltaRequisiti/raccolta_requisiti}
\pagebreak
\input{raccoltaRequisiti/vocabolario}
\pagebreak
\input{raccoltaRequisiti/tabellaRequisitiF}
\input{raccoltaRequisiti/tabellaRequisitiNF}
\input{raccoltaRequisiti/tabellaRequisitiD}
\pagebreak
\input{scenari}
\pagebreak
\input{monkerisk/analisiDelRischio}
\pagebreak
\input{monkerisk/securityUseCaseEMisuseCase_scenari.tex}
\pagebreak
\input{monkerisk/casiUsoAggiornati}
\pagebreak
\input{analisiDelProblema/funzionalita.tex}
\pagebreak
\input{analisiDelProblema/tabelleInformazioniFLusso.tex}
\pagebreak
\input{analisiDelProblema/analisiDeiVincoli.tex}
\pagebreak
\input{analisiDelProblema/analisiDelleInterazioni.tex}
\pagebreak
\input{analisiDelProblema/analisiRuoliResponsabilit√†.tex}
\pagebreak


\subsection*{Tables}

\begin{tikzpicture}
   
\end{tikzpicture}

\subsection*{Model}
\begin{tikzpicture}

  \begin{class}[text width=5cm, fill=green!20, draw=black]{User}{0,0}
    \attribute{username : String}
    \attribute{type : String}
    \attribute{password\_digest : String}
    \attribute{totp\_secret : String}
    \attribute{email : String}
  \end{class}

  \begin{class}[text width=5cm, fill=green!20, draw=black]{Admin}{-5.5,-5}
    \inherit{User}
    \operation{ban(User) : void}
  \end{class}

  \begin{class}[text width=5cm, fill=green!20, draw=black]{Codemonkey}{0,-5}
    \inherit{User}
    \attribute{first\_name : String}
      \attribute{last\_name : String}
      \attribute{bio : String}
      \attribute{propic : Binary}
      \attribute{rating : Float}
      \attribute{status : String}
      \operation{accept\_project(Project) : Project}
      \operation{reject\_project(Project) : Project}
      \operation{interrupt\_project(Project) : Project}
  \end{class}

  \begin{class}[text width=5cm, fill=green!20, draw=black]{Company}{5.5,-5}
    \inherit{User}
      \attribute{name : String}
      \attribute{bio : String}
      \attribute{propic : Binary}
      \attribute{rating : Float}
      \attribute{status : String}
      \operation{new\_project(Project) : Project}
      \operation{edit\_project(Project) : Project}
      \operation{terminate\_project(Project) : Project}
  \end{class}

\end{tikzpicture}

\begin{sequencediagram}
  \newinst{j}{:JavaApp}
  \newinst[2]{ws}{:WebService}
  \mess{j}{Request}{ws}
  \mess{ws}{Response}{j}
\end{sequencediagram}


\begin{sequencediagram}
  \newthread{ss}{:SimulationServer}
  \newinst{ctr}{:SimControlNode}
  \newinst{ps}{:PhysicsServer}
  \newinst[1]{sense}{:SenseServer}
  
  \begin{call}{ss}{Initialize()}{sense}{}
  \end{call}
  \begin{sdblock}{Run Loop}{The main loop}
    \begin{call}{ss}{StartCycle()}{ctr}{}
      \begin{call}{ctr}{ActAgent()}{sense}{}
      \end{call}
    \end{call}
    \begin{call}{ss}{Update()}{ps}{}
      \begin{messcall}{ps}{PrePhysicsUpdate()}{sense}{state}
      \end{messcall}
      \begin{sdblock}{Physics Loop}{}
        \begin{call}{ps}{PhysicsUpdate()}{ps}{}
        \end{call}
      \end{sdblock}
      \begin{call}{ps}{PostPhysicsUpdate()}{sense}{}
      \end{call}
    \end{call}
    \begin{call}{ss}{EndCycle()}{ctr}{}
      \begin{call}{ctr}{SenseAgent()}{sense}{}
      \end{call}
    \end{call}
  \end{sdblock}
\end{sequencediagram}

\end{document}
